{"id":"show_picture_size","script":"//* TITLE Show Picture Size **//\n//* VERSION 1.0.0 **//\n//* DESCRIPTION Shows the resolution of media post pictures in the upper right corner of the picture **//\n//* DEVELOPER TiMESPLiNTER **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.show_picture_size = new Object({\n\n    running: false,\n\n    run: function() {\n        this.running = true;\n\n        if (XKit.interface.where().dashboard !== true) { return; }\n\n        XKit.tools.init_css('show_picture_size');\n\n        XKit.extensions.show_picture_size.post_listener();\n\n        XKit.post_listener.add('show_picture_size', XKit.extensions.show_picture_size.post_listener);\n    },\n\n    destroy: function() {\n        $('.post.xkit-show-picture-size').removeClass('xkit-show-picture-size');\n        XKit.tools.remove_css('show_picture_size');\n        XKit.post_listener.remove('show_picture_size');\n\n        this.running = false;\n    },\n\n    post_listener: function() {\n        var posts = XKit.interface.get_posts('xkit-show-picture-size');\n\n        $(posts).each(function() {\n            var post = XKit.interface.post($(this));\n\n            if (post.type === 'photo') {\n                // Photo\n                $(this).find('.post_media .post_media_photo').each(function() {\n                    var photo = $(this);\n                    var photoLink = $(this).parent('.post_media_photo_anchor');\n                    var tmpImg = new Image();\n\n                    if (photoLink.length == 1 && !!photoLink.attr('data-big-photo')) {\n                        tmpImg.src = photoLink.attr('data-big-photo');\n                        $(tmpImg).one('load', function() {\n                            photo.after($('<div class=\"show-picture-size\">' + tmpImg.width + 'x' + tmpImg.height + '</div>'));\n                        });\n                    } else {\n                        tmpImg.src = photo.attr('src');\n                        $(tmpImg).one('load', function() {\n                            photo.after($('<div class=\"show-picture-size\">' + tmpImg.width + 'x' + tmpImg.height + '</div>'));\n                        });\n                    }\n                });\n            } else if (post.type === 'photoset') {\n                // Photo set\n                $(this).find('.photoset_photo').each(function() {\n                    var photoLink = $(this);\n\n                    var tmpImg = new Image();\n                    tmpImg.src = $(this).attr('href');\n                    $(tmpImg).one('load',function() {\n                        photoLink.append($('<div class=\"show-picture-size\">' + tmpImg.width + 'x' + tmpImg.height + '</div>'));\n                    });\n                });\n            }\n\n            $(this).addClass('xkit-show-picture-size');\n        });\n    }\n});\n","file":"found","server":"up","errors":false,"css":".xkit-show-picture-size .post_media { position: relative; }\n\n.xkit-show-picture-size .photoset .photoset_photo { position: relative; }\n\n.xkit-show-picture-size .post_media_photo_anchor img { display: block; }\n\n.xkit-show-picture-size .show-picture-size {\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: rgba(0,0,0,.5);\n    color: #eee;\n    padding: 2px 4px;\n}\n\n.xkit-show-picture-size .post_media:hover .show-picture-size,\n.xkit-show-picture-size .photoset .photoset_photo:hover .show-picture-size {\n    display: none;\n}\n","title":"Show Picture Size","description":"Shows the resolution of media post pictures in the upper right corner of the picture","developer":"TiMESPLiNTER","version":"1.0.0","frame":"false","beta":"false","slow":"false"}
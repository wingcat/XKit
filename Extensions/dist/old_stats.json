{"id":"old_stats","script":"//* TITLE Old Stats **//\n//* VERSION 0.2.1 **//\n//* DESCRIPTION  **//\n//* DEVELOPER STUDIOXENIX **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.old_stats = new Object({\n\n\trunning: false,\n\t\n\t/*\n\told_stats_draw: function() {\n        var canvas = document.getElementById('xkit-activity-canvas');\n        if (canvas.getContext){\n            var ctx = canvas.getContext('2d');\n            \n            \n            var activity_sparkline = XKit.interface.user().activity.slice(1,-1).split(\",\");\n            // Convert each string to int in array\n            for (var i=0; i<activity_sparkline.length; i++) {\n                activity_sparkline[i] = parseInt(activity_sparkline[i], 10);\n            }\n        \n            var activity_max = getMaxOfArray(activity_sparkline);\n            var activity_min = getMinOfArray(activity_sparkline);\n            \n            var path=new Path2D();\n            \n            path.moveTo(0, Math.round(15 - (activity_sparkline[0]-activity_min)/(activity_max-activity_min)*15));\n            \n            for (var n=1; n<activity_sparkline.length; n++) {\n                activity_sparkline[n] = Math.round(15 - (activity_sparkline[n]-activity_min)/(activity_max-activity_min)*15);\n                path.lineTo(n*3, activity_sparkline[n]);\n                path.moveTo(n*3, activity_sparkline[n]);\n            }\n\n            var path=new Path2D();\n            path.moveTo(0,7);\n            path.lineTo(36,15);\n            path.lineTo(3,0);\n            //ctx.fill(path);\n\n            ctx.stroke(path);\n        }\n\t}, */\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\t//XKit.tools.init_css(\"old_stats\");\n\n\t\tvar m_user = XKit.interface.user();\n\n\t\tvar posts_show = \" \";\n\t\tvar followers_show = \" \";\n\t\tvar drafts_show\t= \" \";\n\t\tvar queue_show = \" \";\n\n\t\tif (XKit.interface.where().inbox === true) { return; }\n\n\t\tif (m_user.posts === 0) {\n\t\t\tposts_show = \" count_0 \";\n\t\t}\n\t\tif (m_user.followers === 0) {\n\t\t\tfollowers_show = \" count_0 \";\n\t\t}\n\t\tif (m_user.drafts === 0) {\n\t\t\tdrafts_show = \" count_0 \";\n\t\t}\n\t\tif (m_user.processing === 0) {\n\t\t\tprocessing_show = \" count_0 \";\n\t\t}\n\t\tif (m_user.queue === 0) {\n\t\t\tqueue_show = \" count_0 \";\n\t\t}\n\t\t\n\t\t/*var m_account = $(\"#account_button\");\n\t\tm_account.click();\n\t\tvar activity_graph = document.getElementsByClassName(\"popover--account-popover\")[0];\n\t\twindow.setTimeout(function() {\n\t\t\tm_account.click();\n\t\t}, 1000); */\n\n\n\t\tvar xf_html = \t'<ul data-blog-name=\"' + m_user.name + '\" id=\"dashboard_controls_open_blog\" class=\"controls_section\">' +\n\t\t\t\t\t'<li class=\"no_push selected_blog\">' +\n\t\t\t\t\t\t'<div class=\"open_blog with_subtitle\">' +\n\t\t\t\t\t\t\t'<a class=\"currently_selected_blog hide_overflow blog_title\">' + m_user.name + '</a>' +\n\t\t\t\t\t\t\t'<small>' +\n\t\t\t\t\t\t\t\t'<div class=\"hide_overflow\">' +\n\t\t\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"http://' + m_user.name + '.tumblr.com/\" class=\"open_blog_link\" id=\"open_blog_link\">' + m_user.title + '</a>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'</small>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item' + posts_show + '\" data-blog-controls-count=\"post_count\" id=\"posts_control\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor posts\" href=\"/blog/' + m_user.name + '\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">Posts</div>' +\n\t\t\t\t\t\t\t'<span class=\"count\">' + m_user.posts.toLocaleString() + '</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item' + followers_show + '\" data-blog-controls-count=\"follower_count\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor followers\" href=\"/blog/' + m_user.name + '/followers\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">Followers</div>' +\n\t\t\t\t\t\t\t'<span class=\"count\">' + m_user.followers.toLocaleString() + '</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item popover_menu_item_blog_details\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor activity\" href=\"/blog/' + m_user.name + '/activity\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\" id=\"old_stats_activity\">Activity</div>' + \n\t\t\t\t\t\t\t'<span data-sparkline=\"' + m_user.activity + '\" class=\"count sparkline\">' +\n\t\t\t\t\t\t\t\t'<canvas style=\"display: inline-block; vertical-align: top; height: 15px; width: 36px;\" width=\"72\" height=\"30\"></canvas>' +\n\t\t\t\t\t\t\t'</span>' + \n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item' + drafts_show + '\" data-blog-controls-count=\"draft_count\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor drafts\" href=\"/blog/' + m_user.name + '/drafts\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">Drafts</div>' +\n\t\t\t\t\t\t\t'<span class=\"count\">' + m_user.drafts.toLocaleString() + '</span>' +\n\t\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item' + processing_show + '\" data-blog-controls-count=\"transcoding_count\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor queue\" href=\"/blog/' + m_user.name + '/processing\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">Processing</div>' +\n\t\t\t\t\t\t\t'<span class=\"count\">' + m_user.processing.toLocaleString() + '</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item' + queue_show + '\" data-blog-controls-count=\"queued_post_count\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor queue\" href=\"/blog/' + m_user.name + '/queue\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">Queue</div>' +\n\t\t\t\t\t\t\t'<span class=\"count\">' + m_user.queue.toLocaleString() + '</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t\t'<li class=\"controls_section_item no_push\">' +\n\t\t\t\t\t\t'<a class=\"control-item control-anchor customize\" href=\"/settings/blog/' + m_user.name + '\">' +\n\t\t\t\t\t\t\t'<div class=\"hide_overflow\">' +\n\t\t\t\t\t\t\t\t'Edit appearance<i class=\"sub_control link_arrow icon_right icon_arrow_carrot_right\"></i>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</li>' +\n\t\t\t\t'</ul>' +\n\t\t\t\t'<ul id=\"xkit-dashboard-account\" class=\"controls_section\"></ul>';\n\n\t\t$(\".recommended_tumblelogs\").before(xf_html);\n\t\t\n\t//\t$(\"#old_stats_activity\").after(activity_graph.childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[1]);\n\t\t\n\t\t/*\n\t\tvar canvas = $('#xkit-activity-canvas');\n        if (canvas.getContext){\n            var ctx = canvas.getContext('2d');\n            \n            \n            var activity_sparkline = XKit.interface.user().activity.slice(1,-1).split(\",\");\n            // Convert each string to int in array\n            for (var i=0; i<activity_sparkline.length; i++) {\n                activity_sparkline[i] = parseInt(activity_sparkline[i], 10);\n            }\n        \n            var activity_max = getMaxOfArray(activity_sparkline);\n            var activity_min = getMinOfArray(activity_sparkline);\n            \n            var path=new Path2D();\n            \n            path.moveTo(0, Math.round(15 - (activity_sparkline[0]-activity_min)/(activity_max-activity_min)*15));\n            \n            for (var n=1; n<activity_sparkline.length; n++) {\n                activity_sparkline[n] = Math.round(15 - (activity_sparkline[n]-activity_min)/(activity_max-activity_min)*15);\n                path.lineTo(n*3, activity_sparkline[n]);\n                path.moveTo(n*3, activity_sparkline[n]);\n            }\n\n            var path=new Path2D();\n            path.moveTo(0,7);\n            path.lineTo(36,15);\n            path.lineTo(3,0);\n            ctx.fill(path);\n\n            //ctx.stroke(path);\n        }*/\n\n\t},\n\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t}\n\n});\n","title":"Old Stats","description":"*","developer":"STUDIOXENIX","version":"0.2.1","frame":"false","beta":"false","file":"found","server":"up","errors":false,"slow":"false"}
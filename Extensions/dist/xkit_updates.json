{"id":"xkit_updates","script":"//* TITLE XKit Updates **//\n//* VERSION 1.3.0 **//\n//* DESCRIPTION Provides automatic updating of extensions **//\n//* DEVELOPER new-xkit **//\nXKit.extensions.xkit_updates = new Object({\n\n\trunning: false,\n\n\tdefault_interval: 18000000,\n\tmin_interval: 3600000,\n\tmax_interval: 86400000,\n\n\tpreferences: {\n\t\t\"show_notifications\": {\n\t\t\ttext: \"Show update notifications\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"check_interval\": {\n\t\t\ttext: \"Update check interval (in milliseconds)\",\n\t\t\tdefault: \"18000000\",\n\t\t\tvalue: \"18000000\",\n\t\t\ttype: \"text\"\n\t\t},\n\t},\n\n\trun: function() {\n\t\ttry {\n\t\t\tXKit.tools.init_css(\"xkit_updates\");\n\t\t\tthis.running = true;\n\t\t\tvar d = new Date();\n\t\t\tvar ms = d.getTime();\n\t\t\tvar last_time = parseFloat(XKit.storage.get(\"xkit_updates\", \"last_update_check\", \"0\"));\n\t\t\tvar difference = ms - last_time;\n\t\t\tXKit.console.add(\"Updates: difference = \" + difference);\n\t\t\tif (isNaN(XKit.extensions.xkit_updates.preferences.check_interval.value) === true) {\n\t\t\t\tXKit.console.add(\"Invalid check interval, reverting to default: not a number.\");\n\t\t\t\tXKit.extensions.xkit_updates.preferences.check_interval.value = XKit.extensions.xkit_updates.default_interval;\n\t\t\t} else {\n\t\t\t\tvar m_interval = XKit.extensions.xkit_updates.preferences.check_interval.value;\n\t\t\t\tif (m_interval > XKit.extensions.xkit_updates.max_interval || m_interval < XKit.extensions.xkit_updates.min_interval) {\n\t\t\t\t\tXKit.extensions.xkit_updates.preferences.check_interval.value = XKit.extensions.xkit_updates.default_interval;\n\t\t\t\t\tXKit.console.add(\"Invalid check interval, reverting to default: too small or big.\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (difference <= -1 ||difference >= XKit.extensions.xkit_updates.preferences.check_interval.value) {\n\t\t\t\tXKit.console.add(\"Starting update checking..\");\n\t\t\t\tXKit.extensions.xkit_updates.get_list();\n\t\t\t\tXKit.extensions.xkit_updates.update_packs();\n\t\t\t} else {\n\t\t\t\tXKit.console.add(\"Skipping update checking.\");\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tXKit.extensions.xkit_updates.show_update_failure();\n\t\t}\n\t},\n\n\tto_update: \"\",\n\tto_update_index: 0,\n\tupdated_list: \"\",\n\tupdated_list_versions: \"\",\n\n\tpack_to_update: \"\",\n\tpack_to_update_index: 0,\n\n\tupdate_packs: function() {\n\n\t\tXKit.extensions.xkit_updates.pack_to_update_index = 0;\n\t\tXKit.extensions.xkit_updates.pack_to_update = [];\n\n\t\ttry {\n\n\t\t\tvar list = XKit.installed.list();\n\n\t\t\tfor (var i=0;i<list.length;i++) {\n\n\t\t\t\tvar ext_object = XKit.installed.get(list[i]);\n\n\t\t\t\ttry {\n\n\t\t\t\t\tif (ext_object.pack) {\n\n\t\t\t\t\t\tXKit.extensions.xkit_updates.pack_to_update.push(ext_object);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(e) {\n\n\t\t\t\t\tconsole.log(\"Can't read \" + list[i] + \" for update procedure.\");\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (XKit.extensions.xkit_updates.pack_to_update.length > 0) {\n\n\t\t\t\tconsole.log(\"Going to update \" + XKit.extensions.xkit_updates.pack_to_update.length + \" packs.\");\n\t\t\t\tXKit.extensions.xkit_updates.update_next_pack();\n\n\t\t\t} else {\n\t\t\t\tconsole.log(\"No packs found to update.\");\n\t\t\t}\n\n\t\t} catch(e) {\n\n\t\t\t// Eh.\n\n\t\t}\n\n\t},\n\n\tupdate_next_pack: function() {\n\n\t\tif (XKit.extensions.xkit_updates.pack_to_update_index >= XKit.extensions.xkit_updates.pack_to_update.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar to_update = XKit.extensions.xkit_updates.pack_to_update[XKit.extensions.xkit_updates.pack_to_update_index];\n\n\t\tXKit.extensions.xkit_updates.update_pack(to_update.id, function(data) {\n\n\t\t\tif (data.errors) {\n\t\t\t\tconsole.log(\"Can't update the pack \" + to_update.id + \"..\");\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Successfully updated the pack \" + to_update.id + \"..\");\n\t\t\t}\n\n\t\t\tXKit.extensions.xkit_updates.pack_to_update_index++;\n\t\t\tXKit.extensions.xkit_updates.update_next_pack();\n\n\t\t});\n\n\t},\n\n\tget_list: function(force_mode) {\n\n\t\tif (force_mode) {\n\t\t\t$(\"#xkit-forced-auto-updates-message\").html(\"Fetching the latest changes from XKit servers...\");\n\t\t}\n\n\t\tXKit.download.page(\"list.php\", function(mdata) {\n\n\t\t\tif (mdata.server_down === true) {\n\n\t\t\t\tXKit.extensions.xkit_updates.show_update_failure();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tXKit.extensions.xkit_updates.to_update_index = 0;\n\t\t\tXKit.extensions.xkit_updates.to_update = [];\n\t\t\tXKit.extensions.xkit_updates.updated_list = [];\n\t\t\tXKit.extensions.xkit_updates.updated_list_versions = [];\n\n\t\t\tfor(var extension in mdata.extensions) {\n\n\t\t\t\tif (force_mode) {\n\n\t\t\t\t\tvar check_this = false;\n\t\t\t\t\tif (XKit.installed.check(mdata.extensions[extension].name) === true) {\n\n\t\t\t\t\t\tif (XKit.extensions.xkit_updates.shouldUpdate(XKit.extensions.xkit_updates.parseVersion(XKit.installed.get(mdata.extensions[extension].name).version), XKit.extensions.xkit_updates.parseVersion(mdata.extensions[extension].version))) {\n\t\t\t\t\t\t\tcheck_this = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (mdata.extensions[extension].name.substring(0,5) === \"xkit_\") {\n\t\t\t\t\t\t\t// Always update internals no matter what.\n\t\t\t\t\t\t\tcheck_this = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (check_this) {\n\t\t\t\t\t\t\tXKit.extensions.xkit_updates.to_update.push(mdata.extensions[extension].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (mdata.extensions[extension].version !== XKit.installed.get(mdata.extensions[extension].name).version) {\n\t\t\t\t\t\tif (XKit.installed.check(mdata.extensions[extension].name) === true) {\n\t\t\t\t\t\t\tXKit.extensions.xkit_updates.to_update.push(mdata.extensions[extension].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (XKit.extensions.xkit_updates.to_update.length > 0) {\n\t\t\t\t$(\"body\").append(\"<div id=\\\"xkit-updating-indicator\\\">XKit Auto-Update</div>\");\n\t\t\t\tif (force_mode) {\n\t\t\t\t\t$(\"#xkit-forced-auto-updates-message\").html(\"Downloading extensions from the servers...\");\n\t\t\t\t}\n\t\t\t\tXKit.extensions.xkit_updates.update_next(force_mode);\n\t\t\t} else {\n\t\t\t\tvar d = new Date();\n\t\t\t\tvar ms = d.getTime();\n\t\t\t\tXKit.storage.set(\"xkit_updates\", \"last_update_check\", ms);\n\t\t\t\tXKit.console.add(\"Update complete: no new extensions\");\n\t\t\t}\n\n\t\t});\n\n\t},\n\n\tshow_update_failure: function() {\n\n\t\tXKit.notifications.add(\"<b>Could not update XKit:</b><br/>I could not reach the XKit servers to update myself. You might be running an old and buggy version of XKit. Click here for details.\", \"error\", true, function() {\n\n\t\t\tXKit.window.show(\"Auto-Update failed.\",\"XKit automatically updates itself from time to time in the background to bring you the latest features and bug fixes. Unfortunately, it was unable to contact the servers and download the latest updates. This might be a temporary server error or a problem with your connection.<br/><br/><b>If you have received this message more than twice in the last three days, it is highly recommended that you reset XKit.</b> If you don't, you'll be running an out-of-date XKit which might not work properly and cause problems.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://www.tumblr.com/xkit_reset\\\" class=\\\"xkit-button\\\">Reset XKit</a>\");\n\n\t\t});\n\n\t},\n\n\tupdate_next: function(force_mode) {\n\n\t\tif (XKit.extensions.xkit_updates.to_update_index >= XKit.extensions.xkit_updates.to_update.length) {\n\n\t\t\tvar d = new Date();\n\t\t\tvar ms = d.getTime();\n\t\t\tXKit.storage.set(\"xkit_updates\", \"last_update_check\", ms);\n\n\t\t\t// Completed all?\n\n\t\t\tif (!force_mode) {\n\n\t\t\t\tvar to_show = XKit.tools.get_setting(\"xkit_show_update_notifications\",\"true\");\n\n\t\t\t\tif (to_show === \"true\") {\n\n\t\t\t\t\tXKit.notifications.add(\"XKit updated \" + XKit.extensions.xkit_updates.updated_list.length + \" extension(s). Click here to view them.\", \"ok\", true, function() {\n\t\t\t\t\t\tvar m_result = \"\";\n\t\t\t\t\t\tfor (i=0;i<XKit.extensions.xkit_updates.updated_list.length;i++) {\n\t\t\t\t\t\t\tm_result = m_result + \"<br/>\" + XKit.extensions.xkit_updates.updated_list[i] + \" &middot; \" + XKit.extensions.xkit_updates.updated_list_versions[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tXKit.window.show(\"Auto-Update results\",\"<b>XKit updated the following extension(s):</b>\" + m_result, \"info\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tXKit.window.show(\"Complete!\",\"<b>XKit updated all the extensions with version mismatch.</b><br/>Changes will be active when you refresh the page.\",\"info\",\"<div id=\\\"xkit-close-message\\\" class=\\\"xkit-button default\\\">OK</div>\");\n\n\t\t\t}\n\n\t\t\t$(\"#xkit-updating-indicator\").remove();\n\t\t\treturn;\n\t\t}\n\n\t\tif (force_mode) {\n\t\t\t$(\"#xkit-forced-auto-updates-message\").html(\"Downloading \" + XKit.extensions.xkit_updates.to_update[XKit.extensions.xkit_updates.to_update_index] + \" (\" + (XKit.extensions.xkit_updates.to_update_index + 1) + \" of \" + XKit.extensions.xkit_updates.to_update.length + \")\");\n\t\t}\n\n\n\t\tXKit.extensions.xkit_updates.update(XKit.extensions.xkit_updates.to_update[XKit.extensions.xkit_updates.to_update_index], function(mdata) {\n\n\t\t\tif (mdata.errors === true) {\n\t\t\t\tif (mdata.error_not_found === true) {\n\t\t\t\t\t// Probably removed.\n\t\t\t\t\tXKit.console.add(\"Can not update \" + XKit.extensions.xkit_updates.to_update[XKit.extensions.xkit_updates.to_update_index] + \": not found.\");\n\t\t\t\t}else{\n\t\t\t\t\tXKit.extensions.xkit_updates.show_update_failure();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tXKit.extensions.xkit_updates.updated_list.push(mdata.title);\n\t\t\tXKit.extensions.xkit_updates.updated_list_versions.push(mdata.version);\n\t\t\tXKit.console.add(\"Updated \" + XKit.extensions.xkit_updates.to_update[XKit.extensions.xkit_updates.to_update_index]);\n\t\t\tXKit.extensions.xkit_updates.to_update_index++;\n\t\t\tXKit.extensions.xkit_updates.update_next(force_mode);\n\n\t\t});\n\n\t},\n\n\tupdate_pack: function(extension_id, callback) {\n\n\t\tvar m_result = {};\n\n\t\tGM_xmlhttpRequest({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"http://xds1.puaga.com/xpacks/\" + extension_id + \"/app.js?ftch_id=\" + XKit.tools.random_string(),\n\t\t\tonerror: function(response) {\n\t\t\t\tm_result.errors = true;\n\t\t\t\tm_result.error_not_found = true;\n\t\t\t\tm_result.error = \"Pack can't be found: It might've been removed from XCloud. Please try again later or contact the developer.\";\n\t\t\t\tcallback(m_result);\n\t\t\t},\n\t\t\tonload: function(response) {\n\t\t\t\t// We are done!\n\t\t\t\ttry {\n\t\t\t\t\tvar mdata = JSON.parse(response.responseText);\n\n\t\t\t\t\tif (mdata.malicious === true || mdata.malicious == \"true\") {\n\n\t\t\t\t\t\tXKit.installed.remove(mdata.id);\n\t\t\t\t\t\tXKit.notifications.add(\"<b>Removed malicious extension \" + mdata.title + \"</b>. Please click here for more information.\",\"warning\",true, function() {\n\n\t\t\t\t\t\t\t\tXKit.window.show(\"Malicious extension removed.\", \"One of the extensions you were using with the title \\\"\" + mdata.title + \"\\\" was found to be malicious, so XKit removed it from your computer. Please refresh this page for changes to take effect.<br/><br/><b>It is highly recommended</b> that you change your Tumblr password. Please be more careful in the future when selecting which Packs to install and which developers to trust.\",\"warning\",\"<div id=\\\"xkit-close-message\\\" class=\\\"xkit-button default\\\">OK</div>\");\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tGM_xmlhttpRequest({\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\turl: \"http://xds1.puaga.com/xpacks/\" + extension_id + \"/icon.js?ftch_id=\" + XKit.tools.random_string(),\n\t\t\t\t\t\tonerror: function(response) {\n\t\t\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\t\t\tm_result.error_not_found = true;\n\t\t\t\t\t\t\tm_result.error = \"Pack can't be found: It might've been removed from XCloud. Please try again later or contact the developer.\";\n\t\t\t\t\t\t\tcallback(m_result);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonload: function(response) {\n\t\t\t\t\t\t\t// We are done!\n\t\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\t\tvar m_object = {};\n\t\t\t\t\t\t\t\tm_object.script = atob(mdata.script);\n\t\t\t\t\t\t\t\tm_object.id = mdata.id;\n\t\t\t\t\t\t\t\tm_object.support_blog = mdata.support_blog;\n\t\t\t\t\t\t\t\tm_object.icon = \"data:image/png;base64,\" + response.responseText;\n\n\t\t\t\t\t\t\t\tif (typeof mdata.css !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.css = atob(mdata.css);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.css = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.title !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.title = mdata.title;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.title = mdata.id;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.description !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.description = mdata.description;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.description = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.owner !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.developer = mdata.owner;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.developer = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.version !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.version = mdata.version;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.version = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.frame !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tif (mdata.frame === \"true\" || mdata.frame === \" true\") {\n\t\t\t\t\t\t\t\t\t\tm_object.frame = true;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tm_object.frame = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.frame = false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.beta !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tif (mdata.beta === \"true\" || mdata.beta === \" true\") {\n\t\t\t\t\t\t\t\t\t\tm_object.beta = true;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tm_object.beta = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.beta = false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.slow !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tif (mdata.slow === \"true\" || mdata.slow === \" true\") {\n\t\t\t\t\t\t\t\t\t\tm_object.slow = true;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tm_object.slow = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.slow = false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof mdata.details !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tm_object.details = mdata.details;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tm_object.details = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tm_object.pack = true;\n\n\t\t\t\t\t\t\t\tv_result = XKit.tools.set_setting(\"extension_\" + mdata.id, JSON.stringify(m_object));\n\n\t\t\t\t\t\t\t\tm_result.errors = false;\n\t\t\t\t\t\t\t\tm_result.error = \"\";\n\t\t\t\t\t\t\t\tcallback(m_result);\n\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\t\t\t\tm_result.error_not_found = true;\n\t\t\t\t\t\t\t\tm_result.error = \"Pack can't be installed: \" + e.message;\n\t\t\t\t\t\t\t\tcallback(m_result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} catch(e) {\n\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\tm_result.error_not_found = true;\n\t\t\t\t\tm_result.error = \"Pack can't be installed: \" + e.message;\n\t\t\t\t\tcallback(m_result);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t},\n\n\tupdate: function(extension_id, callback) {\n\n\t\tvar m_result = {};\n\n\n\t\tXKit.install(extension_id, function(mdata) {\n\n\t\t\tif (mdata.errors) {\n\t\t\t\tif (mdata.storage_error === true) {\n\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\tm_result.error = \"Can't store data on browser\";\n\t\t\t\t\tcallback(m_result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (mdata.server_down === true) {\n\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\tm_result.error = \"Can't reach servers\";\n\t\t\t\t\tcallback(m_result);\n\t\t\t\t} else {\n\t\t\t\t\tif (mdata.file === \"not_found\") {\n\t\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\t\tm_result.error_not_found = true;\n\t\t\t\t\t\tm_result.error = \"Extension can't be found: It might've been removed from the extension gallery.\";\n\t\t\t\t\t\tcallback(m_result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm_result.errors = true;\n\t\t\t\t\t\tm_result.error = \"Unknown error. Code: #UPDATE-1026\";\n\t\t\t\t\t\tcallback(m_result);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Try evaling the script.\n\t\t\t\t// If it's working, then move to the next one.\n\t\t\t\tm_result.errors = false;\n\t\t\t\tm_result.error = \"\";\n\t\t\t\tm_result.title = mdata.title;\n\t\t\t\tm_result.version = mdata.version;\n\t\t\t\tcallback(m_result);\n\t\t\t} catch(e) {\n\t\t\t\tm_result.errors = true;\n\t\t\t\tm_result.error = \"UP-ER:\" + e.message;\n\t\t\t\tcallback(m_result);\n\t\t\t}\n\n\t\t});\n\n\t},\n\n\tshouldUpdate: function(versionCurrent, versionRemote) {\n\t\tif (versionRemote.major > versionCurrent.major) {\n\t\t\treturn true;\n\t\t}\n\t\tif ((versionRemote.minor > versionCurrent.minor) && (versionRemote.major >= versionCurrent.major)) {\n\t\t\treturn true;\n\t\t}\n\t\tif ((versionRemote.patch > versionCurrent.patch) && (versionRemote.major >= versionCurrent.major) && (versionRemote.minor >= versionCurrent.minor)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t\n\tparseVersion: function(versionString) {\n\t\tvar version = {};\n\t\tvar versionSplit = versionString.split(\".\");\n\t\tif (versionSplit.length < 3) {\n\t\t\tvar versionSplit2 = versionSplit[1].toLowerCase().split(\"rev\");\n\t\t\tversion.major = parseInt(versionSplit[0]);\n\t\t\tversion.minor = parseInt(versionSplit2[0].trim());\n\t\t\tif (typeof(versionSplit2[1]) === \"undefined\") {\n\t\t\t\tversion.patch = 0;\n\t\t\t} else {\n\t\t\t\tversion.patch = versionSplit2[1].trim().charCodeAt(0) - \"a\".charCodeAt(0);\n\t\t\t}\n\t\t} else {\n\t\t\tversion.major = parseInt(versionSplit[0]);\n\t\t\tversion.minor = parseInt(versionSplit[1]);\n\t\t\tversion.patch = parseInt(versionSplit[2]);\n\t\t}\n\t\treturn version;\n\t},\n\t\n\tdestroy: function() {\n\t\tthis.running = false;\n\t}\n\n});\n","css":"#xkit-updating-indicator {\n\tposition: fixed;\n\ttop: 10px; left: 10px;\n\tbackground: rgba(0,0,0,0.22) no-repeat 5px 50% url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUI1QzFEQjdENjg5MTFFMkEzMDdEMENERTdFNEZBNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUI1QzFEQjhENjg5MTFFMkEzMDdEMENERTdFNEZBNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQjVDMURCNUQ2ODkxMUUyQTMwN0QwQ0RFN0U0RkE0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQjVDMURCNkQ2ODkxMUUyQTMwN0QwQ0RFN0U0RkE0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pno+M+4AAAD2SURBVHjanFIxCsJAEMwJtskL7hfp7f1EwGfkDYLvSJHGWrDT0sMqjRCwSRdQSZFA4k6yd1zOKMGFyS07M9lj90TXdd4/scBHCGFAERGOhJKBPHI0nqc70hkQLt33ABcYjza2batsVVmWN8CuQTMyEiJbUNf1K47jDYDc6RwZY1VVJ5tJ03RLP/YB5DbH2sHYNM1TE1mWHcggrQHKPM/PmmftYJy4jtmRW2ftsA4MYe7+tLY3KqX2c41Gy7eS7uingrvJ0R7DMFz/MoOD5uMBUCwJqyRJdkVRXDEEADlq4FjTe4T7yOktSl6Hz6UH4U66u617CzAAsTaRsb/W8BoAAAAASUVORK5CYII=');\n\twidth: auto; height: 20px;\n\tline-height: 20px;\n\tpadding-left: 24px;\n\tpadding-right: 8px;\n\tcolor: white;\n\ttext-shadow: 0px 1px 0px rgba(0,0,0,0.12);\n\tfont-size: 11px;\n\tborder-radius: 20px;\n\topacity: 0.7;\n}\n\n#xkit-updating-indicator:hover {\n\topacity: 1;\n}","title":"XKit Updates","description":"Provides automatic updating of extensions","developer":"new-xkit","version":"1.3.0","file":"found","server":"up","errors":false,"frame":"false","beta":"false","slow":"false"}
{"id":"classic_tags","script":"//* TITLE Tag Tracking+ **//\n//* VERSION 1.6.1 **//\n//* DESCRIPTION Shows your tracked tags on your sidebar **//\n//* DEVELOPER new-xkit **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.classic_tags = new Object({\n\n\trunning: false,\n\tslow: true,\n\n\tpreferences: {\n\t\t\"sep-1\": {\n\t\t\ttext: \"Tag Search\",\n\t\t\ttype: \"separator\"\n\t\t},\n\t\t\"show_new_notification\": {\n\t\t\ttext: \"Show a [new] indicator in the tag search bar\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"redirect_to_tagged\": {\n\t\t\ttext: \"Redirect the followed tags to /tagged/ instead of /search/\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"sep-2\": {\n\t\t\ttext: \"Tags in Sidebar\",\n\t\t\ttype: \"separator\"\n\t\t},\n\t\t\"show_tags_on_sidebar\": {\n\t\t\ttext: \"Show Tags on sidebar\",\n\t\t\tdefault: true,\n\t\t\tvalue: true\n\t\t},\n\t\t\"only_new_tags\": {\n\t\t\ttext: \"Only show tags with new posts\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"prepend_sidebar\": {\n\t\t    text: \"Put tags at top of sidebar\",\n\t\t    default: false,\n\t\t    value: false\n\t\t},\n\t\t\"sep-3\": {\n\t\t\ttext: \"Settings\",\n\t\t\ttype: \"separator\"\n\t\t},\n\t\t\"open_in_new_tab\": {\n\t\t\ttext: \"Open the tag results in a new window\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t},\n\t\t\"turn_off_warning\": {\n\t\t\ttext: \"Turn off 'Too Many Tracked Tags' warning\",\n\t\t\tdefault: false,\n\t\t\tvalue: false\n\t\t}\n\t},\n\t\n\tobserver: new MutationObserver(function(mutations) {\n\t\tif (XKit.extensions.classic_tags.preferences.open_in_new_tab.value) {\n\t\t\t$(\".result_link\").each(function() { $(this).attr(\"target\", \"_BLANK\"); });\n\t\t} else {\n\t\t\t$(\".result_link\").each(function() { $(this).attr(\"target\", \"\"); });\n\t\t}\n\t\tif (XKit.extensions.classic_tags.preferences.redirect_to_tagged.value) {\n\t\t\t$(\".result_link\").each(XKit.extensions.classic_tags.redirect_to_tagged);\n\t\t}\n\t}),\n\n\tredirect_to_tagged: function() {\n\t\t// Extract tag from the data-tag-result attribute. May break if\n\t\t// Tumblr removes this. Will not break if tumblr changes the\n\t\t// link format.\n\t\tvar tag = $(this).attr(\"data-tag-result\");\n\n\t\t// Construct a URL for the tag, replacing all spaces with \"-\"\n\t\tvar newHref = \"/tagged/\" + tag.replace(/ /g, \"-\");\n\t\t$(this).attr(\"href\", newHref);\n\t},\n\n\trun: function() {\n\n\t\ttry {\n\n\t\t\tXKit.tools.init_css(\"classic_tags\");\n\t\t\tif ($(\"#dashboard_index\").length === 0) {\n\t\t\t\tif (document.location.href.indexOf('/tagged') === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($(\".tracked_tags\").length > 0) {\n\t\t\t\tXKit.extensions.classic_tags.show();\n\t\t\t}\n\n\t\t} catch(e) {\n\n\t\t\tXKit.console.add(\"Can't run Classic Tags:\" + e.message);\n\n\t\t}\n\t},\n\n\tshow: function() {\n\t\tif ($(\"#dashboard_index\").length === 0) {\n\t\t\tif (document.location.href.indexOf('/tagged') === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar show_this_tag = false;\n\t\tvar extra_classes = \"\";\n\t\tvar m_html = \"\";\n\n\t\tvar total_tag_count = 0;\n\n\t\t$(\".tracked_tag\").each(function() {\n\n\t\t\ttotal_tag_count++;\n\n\t\t});\n\t\tif (XKit.extensions.classic_tags.preferences.show_tags_on_sidebar.value) {\n\t\t\tif (total_tag_count >= 21 && XKit.extensions.classic_tags.preferences.turn_off_warning.value !== true) {\n\n\t\t\t\tm_html = \"<div class=\\\"classic-tags-too-much-tags-error\\\"><b>Too Many Tracked Tags:</b><br> After around 20 tags, Tumblr stops updating the status of all your tracked tags until you untrack some. Please track less than 20 tags for this extension to work.</div>\";\n\t\t\t\tm_html = '<ul class=\"controls_section\" id=\"xtags\"><li class=\\\"section_header selected\\\">TRACKED TAGS</li>' + m_html + '</ul>';\n\n\t\t\t\tif (document.location.href.indexOf('/tagged/') !== -1) {\n\n\t\t\t\t\t$(\"#right_column\").append(m_html);\n\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tif (XKit.extensions.classic_tags.preferences.prepend_sidebar.value === true) {\n\t\t\t\t\t\t$(\"#right_column\").prepend(m_html);\n\t\t\t\t\t} else if ($(\"ul.controls_section:eq(1)\").length > 0) {\n\t\t\t\t\t\tif ($(\"#xim_small_links\").length > 0) {\n\t\t\t\t\t\t\t$(\"#xim_small_links\").after(m_html);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(\"ul.controls_section:eq(1)\").after(m_html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//$(\"#right_column\").append(m_html);\n\t\t\t\t\t\t$(\".controls_section_radar\").before(m_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (XKit.extensions.classic_tags.preferences.show_new_notification.value === true && $(\".result_sub_title\").length !== 0) {\n\t\t\t$(\"#search_query\").attr(\"placeholder\", \"Search [new]\");\n\t\t}\n\t\t\n\t\t$(\".tracked_tag\").each(function() {\n\n\t\t\tif (parseInt($(this).find(\".count\").html()) > 0) {\n\t\t\t\tshow_this_tag = true;\n\t\t\t} else {\n\t\t\t\tif (XKit.extensions.classic_tags.preferences.only_new_tags.value === true) {\n\t\t\t\t\tif (total_tag_count >= 21 && XKit.extensions.classic_tags.preferences.turn_off_warning.value === true) {\n\t\t\t\t\t\t// Show everything!\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar result = $(this).find(\".result_link\");\n\t\t\tvar tag = result.attr('data-tag-result');\n\t\t\tvar href = result.attr('href');\n\n\t\t\tif ($(\"body\").attr('data-page-root') === href) {\n\t\t\t\textra_classes = \"selected\";\n\t\t\t} else {\n\t\t\t\textra_classes = \"\";\n\t\t\t}\n\n\t\t\tvar m_title = $(this);\n\t\t\tvar result_title = $(m_title).find(\".result_title\");\n\t\t\tresult_title.html(result_title.html().replace(\"#\",\"\"));\n\n\t\t\tm_html = m_html + '<li class=\"xtag ' + extra_classes + '\"><div class=\"hide_overflow\">' + $(m_title).html() + '</div></li>';\n\n\t\t});\n\t\tif (m_html !== \"\" && XKit.extensions.classic_tags.preferences.show_tags_on_sidebar.value) {\n\n\t\t\tm_html = '<ul class=\"controls_section\" id=\"xtags\"><li class=\\\"section_header selected\\\">TRACKED TAGS</li>' + m_html + '</ul>';\n\n\t\t\tif (document.location.href.indexOf('/tagged/') !== -1) {\n\n\t\t\t\t$(\"#right_column\").children(\".tag_controls\").after(m_html);\n\t\t\t} else if (XKit.extensions.classic_tags.preferences.prepend_sidebar.value === true) {\n\t\t\t    $(\"#right_column\").prepend(m_html);\n\t\t\t} else if ($(\"#xim_small_links\").length > 0) {\n\t\t\t\t$(\"#xim_small_links\").after(m_html);\n\t\t\t} else {\n\t\t\t    //$(\"#right_column\").append(m_html);\n\t\t\t\t$(\".controls_section_radar\").before(m_html);\n\t\t\t}\n\n\t\t\t$(\".xtag\").each(function() {\n\t\t\t\t$(this).find(\".count\").html(parseInt($(this).find(\".count\").html()));\n\t\t\t});\n\n\t\t}\n\t\tvar target = document.querySelector('#popover_search');\n\t\tXKit.extensions.classic_tags.observer.observe(target, {\n\t\t\tattributes: true\n\t\t});\n\t\tif (XKit.extensions.classic_tags.preferences.open_in_new_tab.value) {\n\t\t\t$(\".result_link\").each(function() { $(this).attr(\"target\", \"_BLANK\"); });\n\t\t} else {\n\t\t\t$(\".result_link\").each(function() { $(this).attr(\"target\", \"\"); });\n\t\t}\n\t\tif (XKit.extensions.classic_tags.preferences.redirect_to_tagged.value) {\n\t\t\t$(\".result_link\").each(XKit.extensions.classic_tags.redirect_to_tagged);\n\t\t}\n\t},\n\n\tdestroy: function() {\n\t\tXKit.tools.remove_css(\"classic_tags\");\n\t\t$(\"#xtags\").remove();\n\t\t$(\"#search_query\").attr(\"placeholder\", \"Search Tumblr\");\n\t\tXKit.extensions.classic_tags.observer.disconnect();\n\t}\n\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4MzkyMjM2MzU5MTQ4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRUZGRjZFNTM4QzYxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRUZGRjZFNDM4QzYxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZCN0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY3N0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QJeL+wAAAlRJREFUeNrsVktPE1EU/qaPQAoSCXsMGEiMiQuE0vLQKo8YN/4BQdCVLjQhcevCPX/BDStdsCFBbICIKZRCeDYh1No2PIohGlEaZopQ6r3TUefe3hmnJrPS05Nmbufc7+v5zj1nRpooz8NOc8Bm+0/wR3NJTpsJYDeBxIrUc4DvX3B2DMkN5KiEzjIcJRAdxGkGgQSNSb/E5hMaY8WkYA3TBz2fDUNnfTjfjsvD9Poojjm/tSKTDPResPwJ9l4hE2VCW4P4OKLhVjSgLQxur9Dph3HVNp9h4zEWbkPZ1alZha405BTC135yzIPfXuQOyQW9Fywnq9dEvDNWUDe6diAnMR+gS089/LPgEHifqmVqcHOLfp98w+4IqonozQJZSXnfNsJzEb5prR6RbuMiT9cxBDeSlkpHOGYuoaIR3gm6JDkZcThIo+nd6gAoQyAOOYHILU2r1klwUAXnT9HXJascZHMghmwKkV6NwzspOkVcTdb7cbhewiS7HsNxGit3VY4L8E4VFfndldIeOJ1rgh9DV+GshE9FPz1EuNN42HUsm6GHmgxu5JHLaKectIse0/Xr7FvSXRS8OkBBm8e05UofE8ZnYD5hio/Z2n3IMbS8huuctlQ+cBmwe/whM4JwRxH6e3jf0AxoKvegJPg/8fcSRR9BSdJGI+WlZA+Q3RJoyBOYNL2eIP6cwrWMw+lRyR6K0QUEhdY3sgW1b7df4GAOdUO/0ZUUjJQQT1OTDPbHsD9KLz4F6TNu4ymyO6bTdPGOvW92pRX5HyWw/b3IbS/BDwEGAPg3rFrD0wEGAAAAAElFTkSuQmCC","css":"\n.xtag {\n\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjIxRDQwNkY4Mzc2MTFFMjlCRUNFNzIyNjBCNEQzRkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjIxRDQwNzA4Mzc2MTFFMjlCRUNFNzIyNjBCNEQzRkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjFENDA2RDgzNzYxMUUyOUJFQ0U3MjI2MEI0RDNGQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MjFENDA2RTgzNzYxMUUyOUJFQ0U3MjI2MEI0RDNGQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnPFZNIAAAEiSURBVHjanJS9TgJBGEW/RYFQWBmVSMJLCJR2Sqv2PCJEOiAk/oGlxlhaWYBoZa1ZxvvFO2Yc2J1lb3Kys7uTM/8TGWM6IlKS30TAsLwFXsAUfEkg26AOign/D0EFjEOyAliy/AauwMyr0wInKY39iQpsbQJuwGBN603QBuU0keEQd/ntgPPjpwFOnflcmSND4TFbriSINEesPwTfvqjolHcknAZlI1emPfmQzdP0h6miS/CeU9a2sggbUp9VcAH2cwifwKMV2c13lkOmggdXpKlRtpdREnP/Pfsi27PzDDKVXIM7O9l+5qAbWM1/kiSRZgF6CasZ80xO/CMiKbK+17OY5/HeuW6CIjtMlX3yXXtx69wYmUXCa0X3yiufa/MjwADlV01i2iKErQAAAABJRU5ErkJggg==);\n\tbackground-repeat: no-repeat;\n\tbackground-position: 13px 50%;\n}\n\n.xtag .result_title {\n\twidth: 88% !important;\n\tdisplay: block;\n\tcolor: rgba(255, 255, 255, 0.5);\n\tpadding: 8px 0 8px 40px;\n\tfont-weight: 700;\n}\n\n.result_sub_title {\n\tfont-weight: 700 !important;\n\tpadding: 9px 0;\n}\n\n.classic-tags-too-much-tags-error {\n\tfont-size: 13px;\n\ttext-align: center;\n\tpadding: 10px 10px;\n\tbackground: rgba(0,0,0,0.06);\n\tcolor: rgba(255,255,255,0.54);\n}\n","title":"Tag Tracking+","description":"Shows your tracked tags on your sidebar","developer":"new-xkit","version":"1.6.1","frame":"false","beta":"false","slow":"false"}
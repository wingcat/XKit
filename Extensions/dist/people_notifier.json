{"id":"people_notifier","script":"//* TITLE Blog Tracker **//\n//* VERSION 0.3 REV G **//\n//* DESCRIPTION Track people like tags **//\n//* DEVELOPER STUDIOXENIX **//\n//* DETAILS Blog Tracker lets you track blogs like you can track tags. Add them on your dashboard, and it will let you know how many new posts they've made the last time you've checked their blogs, or if they've changed their URLs. **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.people_notifier = new Object({\n\n\trunning: false,\n\tapiKey: \"fuiKNFp9vQFvjLNvx4sUwti4Yb5yGutBN4Xh10LXZhhRKjWlV4\",\n\n\tblogs: new Array(),\n\n\tpreferences: {\n\n\t\t\"view_on_dash\": {\n\n\t\t\ttext: \"Use View on Dash to open blogs (requires View On Dash to be installed)\",\n\t\t\tvalue: false,\n\t\t\tdefault: false\n\n\t\t}\n\n\n\t},\n\n\tmax_tracks: 10,\n\t/*check_interval: 600000,*/\n\tcheck_interval: 600000,\n\n\tframe_run: function() {\n\n\t\tvar username = $(\"#tumblelog_name\").attr(\"data-tumblelog-name\");\n\t\tconsole.log(\"people-notifier -> in blog of \" + username + \", checking to see if we should mark it checked.\");\n\n\t\tXKit.extensions.people_notifier.load_blogs();\n\n\t\tif (XKit.extensions.people_notifier.check_if_in_list(username) !== true) {console.log(\"|-- not in person track list.\"); return; }\n\n\t\tfor (var person in XKit.extensions.people_notifier.blogs) {\n\t\t\tif (XKit.extensions.people_notifier.blogs[person].url === username) {\n\t\t\t\tconsole.log(\"|-- found and replaced last_check.\");\n\t\t\t\tXKit.extensions.people_notifier.blogs[person].last_check = new Date().getTime();\n\t\t\t\tXKit.extensions.people_notifier.blogs[person].count = 0;\n\t\t\t\tXKit.extensions.people_notifier.save();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t},\n\n\tset_read_count: function(username, count) {\n\n\t\tfor (var person in XKit.extensions.people_notifier.blogs) {\n\t\t\tif (XKit.extensions.people_notifier.blogs[person].url === username) {\n\t\t\t\tXKit.extensions.people_notifier.blogs[person].count = count;\n\t\t\t\tXKit.extensions.people_notifier.save();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t},\n\n\tload_blogs: function() {\n\n\t\tvar blogs_str = XKit.storage.get(\"people_notifier\",\"blogs\",\"\");\n\n\t\tvar blogs_obj;\n\n\t\ttry {\n\t\t\tblogs_obj = JSON.parse(blogs_str);\n\t\t} catch(e) {\n\t\t\tblogs_obj = new Array();\n\t\t}\n\n\t\tthis.blogs = blogs_obj;\n\n\t\tconsole.log(this.blogs);\n\n\t},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tXKit.tools.init_css(\"people_notifier\");\n\n\t\tif ($(\"#dashboard_controls_open_blog\").length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.load_blogs();\n\n\t\tif ($(\".post\").length > 0) {\n\n\t\t\tXKit.post_listener.add(\"people_notifier\", XKit.extensions.people_notifier.do_posts);\n\t\t\tthis.do_posts();\n\n\t\t}\n\n\t\tthis.list_blogs();\n\n\t},\n\n\tdo_posts: function() {\n\n\t\tvar posts = XKit.interface.get_posts(\"xkit-people-notifier-checked\");\n\n\t\t$(posts).each(function() {\n\n\t\t\t$(this).addClass(\"xkit-people-notifier-checked\");\n\n\t  \t\tvar m_post = XKit.interface.post($(this));\n\n\t\t\tif (XKit.extensions.people_notifier.check_if_in_list(m_post.owner) !== true) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tXKit.extensions.people_notifier.add_to_read_posts_list(m_post.owner, m_post.id);\n\n\t\t});\n\n\t\tXKit.extensions.people_notifier.save();\n\n\t},\n\n\tadd_to_read_posts_list: function(url, post_id) {\n\n\t\tfor (var i=0;i<XKit.extensions.people_notifier.blogs.length;i++) {\n\n\t\t\tif (XKit.extensions.people_notifier.blogs[i].url === url) {\n\n\t\t\t\t/*var highest_number = -1;\n\t\t\t\tif (typeof XKit.extensions.people_notifier.blogs[i].last_20_posts === \"undefined\") {\n\t\t\t\t\tXKit.extensions.people_notifier.blogs[i].last_20_posts = new Array();\n\t\t\t\t} else {\n\t\t\t\t\thighest_number = Math.max.apply(Math, XKit.extensions.people_notifier.blogs[i].last_20_posts);\n\t\t\t\t}\n\n\t\t\t\tif (highest_number !== -1 && XKit.extensions.people_notifier.blogs[i].last_20_posts.length >= 20) {\n\t\t\t\t\tif (post_id <= highest_number) { console.log(\"Not adding \" + parseInt(post_id) + \" to 20 list, older post! [ max = \" + highest_number + \"]\"); return; }\n\t\t\t\t}*/\n\n\t\t\t\tif (XKit.extensions.people_notifier.blogs[i].last_20_posts.length >= 20) {\n\t\t\t\t\tXKit.extensions.people_notifier.blogs[i].last_20_posts.pop();\n\t\t\t\t}\n\n\t\t\t\tif (XKit.extensions.people_notifier.blogs[i].last_20_posts.indexOf(parseInt(post_id)) === -1) {\n\t\t\t\t\tconsole.log(\"Adding \" + parseInt(post_id) + \" to list.\");\n\t\t\t\t\tXKit.extensions.people_notifier.blogs[i].last_20_posts.unshift(parseInt(post_id));\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcheck_if_in_list: function(url) {\n\n\t\tfor (var i=0;i<XKit.extensions.people_notifier.blogs.length;i++) {\n\n\t\t\t//console.log(XKit.extensions.people_notifier.blogs[i].url + \" --- \" + url);\n\t\t\tif (XKit.extensions.people_notifier.blogs[i].url === url) { return true; }\n\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tsave: function() {\n\n\t\tXKit.storage.set(\"people_notifier\",\"blogs\",JSON.stringify(XKit.extensions.people_notifier.blogs));\n\n\t},\n\n\tshow_error: function(title, msg) {\n\n\t\tXKit.window.show(title, msg, \"error\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\n\t},\n\n\tshow_error_on_sidebar_blog: function(url, changed) {\n\n\t\tif (!changed) {\n\t\t\t$(\"#xkit-people-notifier-for---\" + url).addClass(\"people-notifier-error\");\n\t\t\t$(\"#xkit-people-notifier-for---\" + url).find(\".count\").html(\"error\");\n\t\t} else {\n\t\t\t$(\"#xkit-people-notifier-for---\" + url).addClass(\"people-notifier-changed\");\n\t\t\t$(\"#xkit-people-notifier-for---\" + url).find(\".count\").html(\"changed\");\n\t\t}\n\n\t},\n\n\tcheck_blog: function(url, obj) {\n\n\t\tvar api_url = \"https://api.tumblr.com/v2/blog/\" + url + \".tumblr.com/posts\" + \"?api_key=\" + XKit.extensions.people_notifier.apiKey;\n\n\t\tGM_xmlhttpRequest({\n\t\t\tmethod: \"GET\",\n\t\t\turl: api_url,\n\t\t\tjson: true,\n\t\t\tonerror: function(response) {\n\t\t\t\tconsole.log(\"people-notifier -> Error getting page.\");\n\t\t\t\tXKit.extensions.people_notifier.show_error_on_sidebar_blog(url);\n\t\t\t\treturn;\n\t\t\t},\n\t\t\tonload: function(response) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tvar data = JSON.parse(response.responseText).response;\n\t\t\t\t\t//console.log(\"people-notifier -> got data for \" + url);\n\t\t\t\t\tconsole.log(\" |-- last post timestamp = \" + (data.posts[0].timestamp * 1000) + \" vs last-check = \" + obj.last_check);\n\n\t\t\t\t\tif (data.blog.posts === 0 || data.blog.posts <= 2) {\n\t\t\t\t\t\tXKit.extensions.people_notifier.show_error_on_sidebar_blog(url, true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar do_continue_lads = true;\n\t\t\t\t\tvar lad_count = -1;\n\t\t\t\t\tvar found_count = 0;\n\t\t\t\t\tvar post_id = 0;\n\n\t\t\t\t\twhile (do_continue_lads) {\n\n\t\t\t\t\t\tlad_count++;\n\t\t\t\t\t\tif (lad_count >= 30) {break; }\n\n\t\t\t\t\t\tif (typeof data.posts[lad_count] == \"undefined\")\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tif (typeof obj.last_20_posts === \"undefined\") {\n\t\t\t\t\t\t\tobj.last_20_posts = new Array();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar add_this = true;\n\n\t\t\t\t\t\tif (typeof obj.last_post_id != \"undefined\" && typeof data.posts[lad_count].id != \"undefined\") {\n\t\t\t\t\t\t\tif (obj.last_post_id == data.posts[lad_count].id && obj.last_post_id !== 0) {\n\t\t\t\t\t\t\t\tconsole.log(\"people-notifier ----> Skipping, the last post seen. [\" + obj.last_post_id + \"]\");\n\t\t\t\t\t\t\t\t//obj.count = 0;\n\t\t\t\t\t\t\t\t//do_continue_lads = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tadd_this = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.posts[lad_count] !== \"undefined\" && add_this != false) {\n\t\t\t\t\t\t\tif ((data.posts[lad_count].timestamp * 1000) >= obj.last_check) {\n\t\t\t\t\t\t\t\tconsole.log(\"\\-- Found post = \" + data.posts[lad_count].id);\n\t\t\t\t\t\t\t\t//if (\n\t\t\t\t\t\t\t\tfound_count++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log(\"\\-- Older posts already checked.\");\n\t\t\t\t\t\t\t\tdo_continue_lads = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof data.posts[0].id != \"undefined\") {\n\t\t\t\t\t\tif (data.posts[0].id != 0) {\n\t\t\t\t\t\t\tobj.last_post_id = data.posts[0].id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tobj.last_check = new Date().getTime();\n\t\t\t\t\tXKit.extensions.people_notifier.save();\n\n\t\t\t\t\tif (found_count > 0) {\n\n\t\t\t\t\t\tXKit.extensions.people_notifier.set_read_count(url, obj.count + found_count);\n\n\t\t\t\t\t\t$(\"#xkit-people-notifier-for---\" + url).find(\".count\").html(obj.count + found_count);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.log(\"people-notifier -> no unread posts found for \" + url);\n\n\t\t\t\t\t\tif (typeof obj.count === \"undefined\"|| parseInt(obj.count) === 0) {\n\t\t\t\t\t\t\t$(\"#xkit-people-notifier-for---\" + url).find(\".count\").html(\"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(\"#xkit-people-notifier-for---\" + url).find(\".count\").html(obj.count);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(e) {\n\t\t\t\t\tconsole.log(\"people-notifier -> Error parsing data. \" + e.message);\n\t\t\t\t\tXKit.extensions.people_notifier.show_error_on_sidebar_blog(url);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t},\n\n\tlist_blogs: function() {\n\n\t\tvar m_html = \"\";\n\n\t\t$(\"#xpeoplenotifier\").remove();\n\n\t\tif (this.blogs.length === 0) {\n\n\t\t\tm_html = \t\"<div id=\\\"xkit-people-notifier-no-blogs\\\">\" +\n\t\t\t\t\t\t\"You have no tracked blogs.<br/>Add one below.\" +\n\t\t\t\t\t\"</div>\";\n\n\t\t} else {\n\n\t\t\tvar current_ms = new Date().getTime();\n\n\t\t\tfor (var i=0;i<this.blogs.length;i++) {\n\n\t\t\t\tm_html = m_html + \t'<li style=\"padding-top: 2px; height: 24px;\" id=\"xkit-people-notifier-for---' + this.blogs[i].url + '\" data-url=\"' + this.blogs[i].url + '\" class=\"no_push xkit-people-notifier-person\">' +\n\t\t\t\t\t\t\t\t'<img src=\"https://api.tumblr.com/v2/blog/' + this.blogs[i].url + '.tumblr.com/avatar/16\" class=\"people-notifier-avatar\">' +\n\t\t\t\t\t\t\t\t'<a>' +\n\t\t\t\t\t\t\t\t\t'<div class=\"hide_overflow\" style=\"color: rgba(255, 255, 255, 0.5) !important; padding-left: 36px;\">' + this.blogs[i].url + '</div>';\n\n\n\t\t\t\tvar difference = current_ms - this.blogs[i].last_check;\n\n\t\t\t\tif (difference <= -1 ||difference >= XKit.extensions.people_notifier.check_interval) {\n\t\t\t\t\t//console.log(\"Going to check for \" + this.blogs[i].url);\n\t\t\t\t\tm_html = m_html + \"<div class=\\\"count\\\">loading</div>\";\n\t\t\t\t\tthis.check_blog(this.blogs[i].url, this.blogs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (this.blogs[i].count === 0) {\n\t\t\t\t\t\tm_html = m_html + \"<div class=\\\"count\\\"></div>\";\n\t\t\t\t\t}else {\n\t\t\t\t\t\tm_html = m_html + \"<div class=\\\"count\\\">\" + this.blogs[i].count + \"</div>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tm_html = m_html + \"</a></li>\";\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tm_html = m_html + '<li id=\"xkit-people-notifier-new-btn\" class=\"no_push xkit-people-notifier-new\" style=\"height: 36px;\"><a class=\"members\"><div class=\"\" style=\"color: rgba(255, 255, 255, 0.5) !important; font-weight: bold; padding-left: 10px; padding-top: 8px;\">Add a new person</div></a></li>';\n\n\t\tm_html = '<ul class=\"controls_section\" id=\"xpeoplenotifier\"><li class=\\\"section_header selected\\\">TRACKED BLOGS</li>' + m_html + '</ul>';\n\n\t\tif ($(\"ul.controls_section:first\").length > 0) {\n\t\t\tif ($(\"#xim_small_links\").length > 0) {\n\t\t\t\t$(\"#xim_small_links\").after(m_html);\n\t\t\t\t//$(\"ul.controls_section:first\").after(m_html);\n\t\t\t} else {\n\t\t\t\t$(\"ul.controls_section:first\").after(m_html);\n\t\t\t}\n\t\t} else {\n\t\t\t$(\"#right_column\").prepend(m_html);\n\t\t}\n\n\t\t$(\".xkit-people-notifier-person\").bind(\"click\", function(event) {\n\n\t\t\tif (event.altKey) {\n\t\t\t\tXKit.extensions.people_notifier.remove_from_list($(this).attr('data-url'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($(this).hasClass(\"people-notifier-error\")) {\n\t\t\t\tXKit.window.show(\"Error fetching.\", \"<b>Blog Tracker was unable to fetch information about the blog \\\"\" + $(this).attr('data-url') + \"\\\".</b><div style=\\\"margin-top: 15px;\\\">It might be due to a recent Tumblr change or bug, or that the person changed their URL. Try refreshing the page or click on Open In New Tab to check if they have deleted their blog or changed their URL.</div>\",\"error\",\"<a href=\\\"http://\" + $(this).attr('data-url') + \".tumblr.com/\\\" target=\\\"_BLANK\\\" class=\\\"xkit-button default\\\">Open in new tab</a><div class=\\\"xkit-button\\\" id=\\\"people-notifier-delete-this\\\">Remove from track list</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\n\n\t\t\t\tvar m_obj = $(this);\n\t\t\t\t$(\"#people-notifier-delete-this\").click(function() {\n\t\t\t\t\tXKit.extensions.people_notifier.remove_from_list($(m_obj).attr('data-url'));\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($(this).hasClass(\"people-notifier-changed\")) {\n\t\t\t\tXKit.window.show(\"URL Changed?\", \"<b>Blog Tracker found no or less than 2 posts in the blog \\\"\" + $(this).attr('data-url') + \"\\\".</b><div style=\\\"margin-top: 15px;\\\">It might be due to a recent Tumblr change or bug, or that the person changed their URL. Try refreshing the page or click on Open In New Tab to check if they have deleted their blog or changed their URL.</div>\",\"error\",\"<a href=\\\"http://\"  + $(this).attr('data-url') +  \".tumblr.com/\\\" target=\\\"_BLANK\\\" class=\\\"xkit-button default\\\">Open in new tab</a><div class=\\\"xkit-button\\\" id=\\\"people-notifier-delete-this\\\">Remove from track list</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\n\n\t\t\t\tvar m_obj = $(this);\n\t\t\t\t$(\"#people-notifier-delete-this\").click(function() {\n\t\t\t\t\tXKit.extensions.people_notifier.remove_from_list($(m_obj).attr('data-url'));\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar open_in_vod = false;\n\t\t\tif (XKit.extensions.people_notifier.preferences.view_on_dash.value === true) {\n\n\t\t\t\tif (XKit.installed.check(\"xcloud\") === false) {\n\t\t\t\t\topen_in_vod = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (XKit.extensions.xcloud.running === false) {\n\t\t\t\t\t\topen_in_vod = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\topen_in_vod = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (!open_in_vod) {\n\t\t\t\twindow.open(\"http://\" + $(this).attr('data-url') + \".tumblr.com/\");\n\t\t\t} else {\n\t\t\t\ttry {\n\n\t\t\t\t\tXKit.extensions.people_notifier.load_blogs();\n\t\t\t\t\tfor (var person in XKit.extensions.people_notifier.blogs) {\n\t\t\t\t\t\tif (XKit.extensions.people_notifier.blogs[person].url === $(this).attr('data-url')) {\n\t\t\t\t\t\t\tXKit.extensions.people_notifier.blogs[person].last_check = new Date().getTime();\n\t\t\t\t\t\t\tXKit.extensions.people_notifier.blogs[person].count = 0;\n\t\t\t\t\t\t\tXKit.extensions.people_notifier.save();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tXKit.extensions.view_on_dash.view($(this).attr('data-url'));\n\n\t\t\t\t} catch(e) {\n\t\t\t\t\talert(\"Unable to use View On Dash to open blog.\\nPlease try again later or file a bug report at new-xkit-extension.tumblr.com/ask with error code PEP-119A\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$(\"#xkit-people-notifier-new-btn\").click(function() {\n\n\t\t\tif (XKit.extensions.people_notifier.blogs.length >= XKit.extensions.people_notifier.max_tracks) {\n\t\t\t\tXKit.window.show(\"No more slots\", \"<b>You can only track up to 10 people.</b><br/>Please untrack some to track new people.<br/><br/>To remove a person from list, hold the ALT key while clicking their username on the sidebar.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar remaining = XKit.extensions.people_notifier.max_tracks - XKit.extensions.people_notifier.blogs.length;\n\n\t\t\tXKit.window.show(\"Add a person to track list\", \"<b>Please enter the URL of the person to track:</b><input type=\\\"text\\\" maxlength=\\\"40\\\" placeholder=\\\"eg: xkit-extension\\\" class=\\\"xkit-textbox\\\" id=\\\"xkit-people-notifier-add-url\\\">You have <b>\" + remaining + \"</b> track slots left.<div style=\\\"margin-top: 10px; font-size: 12px; color: rgb(120,120,120);\\\">To remove a person from list afterwards, hold the ALT key while clicking their username on the sidebar.</div>\", \"question\", \"<div class=\\\"xkit-button default\\\" id=\\\"xkit-people-notifier-create\\\">Track URL</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\n\n\t\t\t$(\"#xkit-people-notifier-create\").click(function() {\n\n\t\t\t\tto_add = $(\"#xkit-people-notifier-add-url\").val().toLowerCase();\n\n\t\t\t\tif ($.trim(to_add) === \"\") {\n\t\t\t\t\tXKit.window.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (/^[a-zA-Z0-9\\-]+$/.test(to_add) === false) {\n\t\t\t\t\tXKit.extensions.people_notifier.show_error(\"Invalid username\",\"Please enter the url only (ie: xkit-extension)\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (XKit.extensions.people_notifier.check_if_in_list(to_add) !== false) {\n\t\t\t\t\tXKit.extensions.people_notifier.show_error(\"Already on the list\",\"This user is already on your buddy list.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar m_object = new Object();\n\t\t\t\tm_object.url = to_add;\n\t\t\t\tm_object.last_check = new Date().getTime() - 60000;\n\t\t\t\tm_object.count = 0;\n\t\t\t\tm_object.last_20_posts = new Array();\n\t\t\t\tm_object.last_post = 0;\n\n\t\t\t\tXKit.extensions.people_notifier.blogs.push(m_object);\n\t\t\t\tXKit.extensions.people_notifier.save();\n\n\t\t\t\tXKit.window.close();\n\t\t\t\tXKit.notifications.add(\"User <b>\" + to_add + \"</b> added to track list.\");\n\n\t\t\t\tXKit.extensions.people_notifier.list_blogs();\n\n\t\t\t});\n\n\t\t});\n\n\t},\n\n\tremove_from_list: function(username) {\n\n\t\tXKit.window.show(\"Remove from list\", \"You sure you want to remove <b>\" + username + \"</b>?\",\"question\",\"<div data-to-remove=\\\"\" + username + \"\\\" id=\\\"pn-remove-user-button\\\" class=\\\"xkit-button default\\\">Remove</div><div id=\\\"xkit-close-message\\\" class=\\\"xkit-button\\\">Cancel</div>\");\n\n\t\t$(\"#pn-remove-user-button\").click(function(){\n\n\t\t\tXKit.window.close();\n\t\t\tvar musername = $(this).attr(\"data-to-remove\");\n\n\t\t\tfor (var i=0;i<XKit.extensions.people_notifier.blogs.length;i++) {\n\t\t\t\tif (XKit.extensions.people_notifier.blogs[i].url === musername) {\n\t\t\t\t\tXKit.extensions.people_notifier.blogs.splice(i,1);\n\t\t\t\t\tXKit.extensions.people_notifier.save();\n\t\t\t\t\tXKit.extensions.people_notifier.list_blogs();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t});\n\n\t},\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t}\n\n});\n","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDdFM0RCNkYyM0FCMTFFM0IwM0VGMTUwN0EzNDNCOEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDdFM0RCNzAyM0FCMTFFM0IwM0VGMTUwN0EzNDNCOEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowN0UzREI2RDIzQUIxMUUzQjAzRUYxNTA3QTM0M0I4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowN0UzREI2RTIzQUIxMUUzQjAzRUYxNTA3QTM0M0I4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhpFhg0AAAbTSURBVHjahFZdbFzF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","css":"#xkit-people-notifier-no-blogs {\n\ttext-align: center;\n\tpadding: 8px;\n\tfont-size: 12px;\n\tcolor: rgba(255,255,255,0.55);\n}\n\n.xkit-people-notifier-person .hide_overflow {\n\twidth: 125px;\n}\n\n.xkit-people-notifier-person .people-notifier-avatar {\n\tposition: absolute;\n\ttop: 50%; left: 12px;\n\tmargin-top: -9px;\n\tbox-shadow: inset 0px 1px 4px rgba(0,0,0,0.33), 0px 1px 0px rgba(255,255,255,0.19);\n\tborder-radius: 3px;\n\tborder: 1px solid #233950;\n\twidth: 16px; height: 16px;\n}\n\n.xkit-people-notifier-person a:after {\n\tbackground: none !important;\n}","title":"Blog Tracker","description":"Track people like tags","developer":"STUDIOXENIX","version":"0.3 REV G","frame":"false","beta":"false","details":"Blog Tracker lets you track blogs like you can track tags. Add them on your dashboard, and it will let you know how many new posts they've made the last time you've checked their blogs, or if they've changed their URLs.","file":"found","server":"up","errors":false,"slow":"false"}